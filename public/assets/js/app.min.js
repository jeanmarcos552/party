$(document).ready(function(){function s(e){var t,n,r=e.replace(/[^\d]+/g,"");if(t=0,"00000000000"===r)return!1;for(i=1;i<=9;i++)t+=parseInt(r.substring(i-1,i))*(11-i);if(10!==(n=10*t%11)&&11!==n||(n=0),n!==parseInt(r.substring(9,10)))return!1;for(t=0,i=1;i<=10;i++)t+=parseInt(r.substring(i-1,i))*(12-i);return 10!==(n=10*t%11)&&11!==n||(n=0),n===parseInt(r.substring(10,11))}var e=function(e){$(e).tooltip()};function n(e){$("fieldset:gt("+e+")").removeClass("current").addClass("next"),$("fieldset:lt("+e+")").removeClass("current"),$("li").eq(e).addClass("current").siblings().removeClass("current"),setTimeout(function(){$("fieldset").eq(e).removeClass("next").addClass("current active"),0==$("fieldset.current").index()&&$("#back").fadeOut("slow"),1==$("fieldset.current").index()?($("#next").hide(),$("input[type=submit]").show()):($("#next").show(),$("input[type=submit]").hide())},80)}function t(){var e=$("fieldset.current").index();e<2&&($("li").eq(e+1).addClass("active"),n(e+1))}(function(e){$(e).mask("000.000.000-00",{reverse:!0})})("input[name=cpf]"),e('[data-toggle="tooltip"]'),$("body").on("keyup","form",function(e){if(13===e.which&&$("#next").is(":visible")&&$("fieldset.current").find("input, textarea").valid())return e.preventDefault(),$("#back").fadeIn(3e3),t(),!1}),$("#next").on("click",function(e){$("#back").fadeIn(1e3),t()}),$("form").submit(function(){var e=$(this),t=e.find("input[name=insta]"),i=e.find("input[name=cpf]"),n=e.find("input[name=email]"),r=e.attr("action");return""!==n.val()?$(n).css("border","1px solid green"):$(n).css("border","1px solid red"),""!==i.val()?($(i).css("border","1px solid green"),!0!==s(i.val())?($("#results").html("<p>cpf inválido!</p>"),$(i).css("border","1px solid red")):$("#results").remove()):$(i).css("border","1px solid red"),console.log(i.val(),n.val()),""!==i.val()&&!0===s(i.val())&&""!==n.val()&&($(".sk-folding-cube").show(),$.ajax({method:"POST",url:r+"api/v1/save",data:{cpf:i.val(),instagram:t.val(),email:n.val()}}).done(function(e){$(".sk-folding-cube").hide(),console.log(e),"200"===e?location.href="https://www.eventbrite.com.br/e/wurm-tickets-46172290564#/tickets":alert("Dados inválidos!")})),!1}),$("#back").on("click",function(e){var t=$(".current").index()-1;0<=t&&n(t)}),$("li").on("click",function(e){var t=$(this).index();$(this).hasClass("active")&&n(t)}),$(".prompt").keyup(function(){var e=$(".prompt").val(),i=[],t=$(".results");2<e.length?$.ajax({url:"https://www.instagram.com/web/search/topsearch/?context=blended",data:{query:e}}).done(function(e){t.show(),e.users.forEach(function(e,t){t<6&&(i[t]='<a class="result"><div class="content"><img src="'+e.user.profile_pic_url+'" alt=""><div class="title">@'+e.user.username+"</div></div></a>")}),t.html(i),$(".title").on("click",function(){var e=$(this).text();$(".prompt").val(e),t.hide()})}).fail(function(e){console.error(e+"error")}):t.hide()}),$("#myModal").modal({show:!0,keyboard:!1})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInZhbGlkYWRlQ1BGIiwic3RyQ1BGIiwiU29tYSIsIlJlc3RvIiwiY3BmIiwicmVwbGFjZSIsImkiLCJwYXJzZUludCIsInN1YnN0cmluZyIsInByb2plY3QiLCJpZCIsInRvb2x0aXAiLCJnb1RvU2VjdGlvbiIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJlcSIsInNpYmxpbmdzIiwic2V0VGltZW91dCIsImluZGV4IiwiZmFkZU91dCIsImhpZGUiLCJzaG93IiwibmV4dFNlY3Rpb24iLCJpbnB1dCIsIm1hc2siLCJyZXZlcnNlIiwib24iLCJlIiwid2hpY2giLCJpcyIsImZpbmQiLCJ2YWxpZCIsInByZXZlbnREZWZhdWx0IiwiZmFkZUluIiwic3VibWl0IiwiJHRoaXMiLCJ0aGlzIiwiJGluc3RhIiwiJGNwZiIsIiRlbWFpbCIsIiR1cmwiLCJhdHRyIiwidmFsIiwiY3NzIiwiaHRtbCIsInJlbW92ZSIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwibWV0aG9kIiwidXJsIiwiZGF0YSIsImluc3RhZ3JhbSIsImVtYWlsIiwiZG9uZSIsInJlc3BvbnNlIiwibG9jYXRpb24iLCJocmVmIiwiYWxlcnQiLCJnbyIsImhhc0NsYXNzIiwia2V5dXAiLCJ2YWx1ZSIsInJlc3VsdCIsImRpdlJlc3VsdHMiLCJsZW5ndGgiLCJxdWVyeSIsInVzZXJzIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJ1c2VyIiwicHJvZmlsZV9waWNfdXJsIiwidXNlcm5hbWUiLCJ0ZXh0IiwiZmFpbCIsImVycm9yIiwibW9kYWwiLCJrZXlib2FyZCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FFZCxTQUFTQyxFQUFZQyxHQUNqQixJQUVJQyxFQUNBQyxFQUhBQyxFQUFNSCxFQUFPSSxRQUFRLFVBQVUsSUFLbkMsR0FEQUgsRUFBTyxFQUNLLGdCQUFSRSxFQUF1QixPQUFPLEVBRWxDLElBQUtF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bEJ2QixFQUFFLFlBQVkrRSxNQUFNLENBQ2hCdkQsTUFBTSxFQUNOd0QsVUFBVSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgZnVuY3Rpb24gdmFsaWRhZGVDUEYoc3RyQ1BGKSB7XG4gICAgICAgIHZhciBjcGYgPSBzdHJDUEYucmVwbGFjZSgvW15cXGRdKy9nLCcnKTtcblxuICAgICAgICB2YXIgU29tYTtcbiAgICAgICAgdmFyIFJlc3RvO1xuICAgICAgICBTb21hID0gMDtcbiAgICAgICAgaWYgKGNwZiA9PT0gXCIwMDAwMDAwMDAwMFwiKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgZm9yIChpPTE7IGk8PTk7IGkrKykgU29tYSA9IFNvbWEgKyBwYXJzZUludChjcGYuc3Vic3RyaW5nKGktMSwgaSkpICogKDExIC0gaSk7XG4gICAgICAgIFJlc3RvID0gKFNvbWEgKiAxMCkgJSAxMTtcblxuICAgICAgICBpZiAoKFJlc3RvID09PSAxMCkgfHwgKFJlc3RvID09PSAxMSkpICBSZXN0byA9IDA7XG4gICAgICAgIGlmIChSZXN0byAhPT0gcGFyc2VJbnQoY3BmLnN1YnN0cmluZyg5LCAxMCkpICkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIFNvbWEgPSAwO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IDEwOyBpKyspIFNvbWEgPSBTb21hICsgcGFyc2VJbnQoY3BmLnN1YnN0cmluZyhpLTEsIGkpKSAqICgxMiAtIGkpO1xuICAgICAgICBSZXN0byA9IChTb21hICogMTApICUgMTE7XG5cbiAgICAgICAgaWYgKChSZXN0byA9PT0gMTApIHx8IChSZXN0byA9PT0gMTEpKSAgUmVzdG8gPSAwO1xuICAgICAgICBpZiAoUmVzdG8gIT09IHBhcnNlSW50KGNwZi5zdWJzdHJpbmcoMTAsIDExKSApICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcHJvamVjdCA9IHtcbiAgICAgICAgbWFza0NwZjogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICAkKGlucHV0KS5tYXNrKCcwMDAuMDAwLjAwMC0wMCcsIHtyZXZlcnNlOiB0cnVlfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvb2x0aXA6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgJChpZCkudG9vbHRpcCgpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvamVjdC5tYXNrQ3BmKCdpbnB1dFtuYW1lPWNwZl0nKTtcbiAgICBwcm9qZWN0LnRvb2x0aXAoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKTtcblxuICAgICQoXCJib2R5XCIpLm9uKFwia2V5dXBcIiwgXCJmb3JtXCIsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBpZiAoZS53aGljaCA9PT0gMTMpe1xuICAgICAgICAgICAgaWYgKCQoXCIjbmV4dFwiKS5pcyhcIjp2aXNpYmxlXCIpICYmICQoXCJmaWVsZHNldC5jdXJyZW50XCIpLmZpbmQoXCJpbnB1dCwgdGV4dGFyZWFcIikudmFsaWQoKSApe1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkKFwiI2JhY2tcIikuZmFkZUluKDMwMDApO1xuICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgICQoXCIjbmV4dFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAkKFwiI2JhY2tcIikuZmFkZUluKDEwMDApO1xuICAgICAgICBuZXh0U2VjdGlvbigpO1xuICAgIH0pO1xuXG4gICAgJChcImZvcm1cIikuc3VibWl0KGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIHZhciAkaW5zdGEgPSAkdGhpcy5maW5kKCdpbnB1dFtuYW1lPWluc3RhXScpO1xuICAgICAgICB2YXIgJGNwZiA9ICR0aGlzLmZpbmQoJ2lucHV0W25hbWU9Y3BmXScpO1xuICAgICAgICB2YXIgJGVtYWlsID0gJHRoaXMuZmluZCgnaW5wdXRbbmFtZT1lbWFpbF0nKTtcbiAgICAgICAgdmFyICR1cmwgPSAkdGhpcy5hdHRyKFwiYWN0aW9uXCIpO1xuXG4gICAgICAgIGlmICgkZW1haWwudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAkKCRlbWFpbCkuY3NzKCdib3JkZXInLCAnMXB4IHNvbGlkIGdyZWVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICQoJGVtYWlsKS5jc3MoJ2JvcmRlcicsICcxcHggc29saWQgcmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGNwZi52YWwoKSAhPT0gJycpIHtcbiAgICAgICAgICAgICQoJGNwZikuY3NzKCdib3JkZXInLCAnMXB4IHNvbGlkIGdyZWVuJyk7XG5cbiAgICAgICAgICAgIGlmICh2YWxpZGFkZUNQRigkY3BmLnZhbCgpKSAhPT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgJChcIiNyZXN1bHRzXCIpLmh0bWwoXCI8cD5jcGYgaW52w6FsaWRvITwvcD5cIik7XG4gICAgICAgICAgICAgICAgJCgkY3BmKS5jc3MoJ2JvcmRlcicsICcxcHggc29saWQgcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICQoXCIjcmVzdWx0c1wiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICQoJGNwZikuY3NzKCdib3JkZXInLCAnMXB4IHNvbGlkIHJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJGNwZi52YWwoKSwgJGVtYWlsLnZhbCgpKVxuXG4gICAgICAgIGlmICgkY3BmLnZhbCgpICE9PSAnJyAmJiB2YWxpZGFkZUNQRigkY3BmLnZhbCgpKSA9PT0gdHJ1ZSAmJiAkZW1haWwudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAkKFwiLnNrLWZvbGRpbmctY3ViZVwiKS5zaG93KCk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6ICR1cmwgKyBcImFwaS92MS9zYXZlXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjcGY6ICRjcGYudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIGluc3RhZ3JhbTogJGluc3RhLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogJGVtYWlsLnZhbCgpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkKFwiLnNrLWZvbGRpbmctY3ViZVwiKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gJzIwMCcpe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vd3d3LmV2ZW50YnJpdGUuY29tLmJyL2Uvd3VybS10aWNrZXRzLTQ2MTcyMjkwNTY0Iy90aWNrZXRzJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJEYWRvcyBpbnbDoWxpZG9zIVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ29Ub1NlY3Rpb24oaSl7XG4gICAgICAgICQoXCJmaWVsZHNldDpndChcIitpK1wiKVwiKS5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIikuYWRkQ2xhc3MoXCJuZXh0XCIpO1xuICAgICAgICAkKFwiZmllbGRzZXQ6bHQoXCIraStcIilcIikucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xuICAgICAgICAkKFwibGlcIikuZXEoaSkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoXCJmaWVsZHNldFwiKS5lcShpKS5yZW1vdmVDbGFzcyhcIm5leHRcIikuYWRkQ2xhc3MoXCJjdXJyZW50IGFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgaWYgKCQoXCJmaWVsZHNldC5jdXJyZW50XCIpLmluZGV4KCkgPT0gMCl7XG4gICAgICAgICAgICAgICAgJChcIiNiYWNrXCIpLmZhZGVPdXQoXCJzbG93XCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJChcImZpZWxkc2V0LmN1cnJlbnRcIikuaW5kZXgoKSA9PSAxKXtcbiAgICAgICAgICAgICAgICAkKFwiI25leHRcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoXCJpbnB1dFt0eXBlPXN1Ym1pdF1cIikuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKFwiI25leHRcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoXCJpbnB1dFt0eXBlPXN1Ym1pdF1cIikuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA4MCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV4dFNlY3Rpb24oKXtcbiAgICAgICAgdmFyIGkgPSAkKFwiZmllbGRzZXQuY3VycmVudFwiKS5pbmRleCgpO1xuICAgICAgICBpZiAoaSA8IDIpe1xuICAgICAgICAgICAgJChcImxpXCIpLmVxKGkrMSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICBnb1RvU2VjdGlvbihpKzEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJChcIiNiYWNrXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJChcIi5jdXJyZW50XCIpO1xuICAgICAgICB2YXIgZ28gPSAkdGhpcy5pbmRleCgpIC0gMTtcblxuICAgICAgICBpZiAoZ28gPj0gMCApIHtcbiAgICAgICAgICAgIGdvVG9TZWN0aW9uKGdvKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAkKFwibGlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcbiAgICAgICAgdmFyIGkgPSAkKHRoaXMpLmluZGV4KCk7XG5cbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhY3RpdmVcIikpe1xuICAgICAgICAgICAgZ29Ub1NlY3Rpb24oaSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgJChcIi5wcm9tcHRcIikua2V5dXAoZnVuY3Rpb24oKXtcbiAgICAgICB2YXIgdmFsdWUgPSAkKFwiLnByb21wdFwiKS52YWwoKTtcbiAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgdmFyIGRpdlJlc3VsdHMgPSAkKFwiLnJlc3VsdHNcIik7XG5cbiAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMikge1xuICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vd2ViL3NlYXJjaC90b3BzZWFyY2gvP2NvbnRleHQ9YmxlbmRlZFwiLFxuICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB2YWx1ZVxuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICBkaXZSZXN1bHRzLnNob3coKTtcbiAgICAgICAgICAgICAgIGRhdGEudXNlcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSAnPGEgY2xhc3M9XCJyZXN1bHRcIj48ZGl2IGNsYXNzPVwiY29udGVudFwiPjxpbWcgc3JjPVwiJyArIGVsZW1lbnQudXNlci5wcm9maWxlX3BpY191cmwgKyAnXCIgYWx0PVwiXCI+PGRpdiBjbGFzcz1cInRpdGxlXCI+QCcgKyBlbGVtZW50LnVzZXIudXNlcm5hbWUgKyAnPC9kaXY+PC9kaXY+PC9hPic7XG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgIGRpdlJlc3VsdHMuaHRtbChyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAkKFwiLnRpdGxlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgJChcIi5wcm9tcHRcIikudmFsKHRleHQpO1xuICAgICAgICAgICAgICAgICAgIGRpdlJlc3VsdHMuaGlkZSgpO1xuICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGRhdGEgKyBcImVycm9yXCIgKTtcbiAgICAgICAgICAgfSlcbiAgICAgICB9XG4gICAgICAgZWxzZXtcbiAgICAgICAgICAgZGl2UmVzdWx0cy5oaWRlKCk7XG4gICAgICAgfVxuICAgfSk7XG5cbiAgICAkKCcjbXlNb2RhbCcpLm1vZGFsKHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAga2V5Ym9hcmQ6IGZhbHNlXG4gICAgfSk7XG59KTsiXX0=
